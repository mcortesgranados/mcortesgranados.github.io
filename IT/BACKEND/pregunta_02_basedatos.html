<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preguntas sobre Bases de Datos NoSQL</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        h1, h2 {
            color: #2c3e50;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border: 1px solid #ddd;
            overflow-x: auto;
        }
        code {
            color: #c7254e;
            background-color: #f9f2f4;
            padding: 2px 4px;
            border-radius: 4px;
        }
    </style>
</head>
<body>

    <h1>Preguntas sobre Fundamentos Teóricos de Bases de Datos NoSQL</h1>

    <h2>1. ¿Cuáles son los tipos de bases de datos NoSQL y en qué situaciones usarías cada una?</h2>
    <p><strong>Respuesta:</strong> Los principales tipos de bases de datos NoSQL son:</p>
    <ul>
        <li><strong>Documentales</strong>: Usadas para almacenar datos semiestructurados como JSON. Ejemplo: MongoDB.</li>
        <li><strong>Clave-valor</strong>: Para almacenar pares clave-valor simples. Ejemplo: Redis.</li>
        <li><strong>Columnares</strong>: Eficientes para análisis de grandes cantidades de datos. Ejemplo: Cassandra.</li>
        <li><strong>Grafos</strong>: Usadas para modelar relaciones complejas. Ejemplo: Neo4j.</li>
    </ul>

    <pre><code>// Ejemplo de inserción en MongoDB
db.collection.insertOne({
    "nombre": "Juan",
    "edad": 30,
    "ciudad": "Bogotá"
});
</code></pre>

    <h2>2. Si consideramos los fundamentos teóricos de las bases de datos NoSQL y las principales sentencias de este modelo: usted:</h2>
    <p><strong>Respuesta:</strong> Las bases de datos NoSQL son sistemas diseñados para manejar grandes volúmenes de datos no estructurados o semiestructurados. En lugar de usar el modelo relacional con tablas y filas, NoSQL ofrece diferentes modelos de almacenamiento. Algunos fundamentos teóricos incluyen:</p>
    <ul>
        <li><strong>Escalabilidad horizontal</strong>: Los datos pueden distribuirse en múltiples nodos.</li>
        <li><strong>Flexibilidad de esquemas</strong>: A diferencia de las bases de datos SQL, NoSQL no requiere un esquema fijo.</li>
        <li><strong>Eventual Consistency</strong>: El modelo CAP (Consistency, Availability, Partition Tolerance) dicta que NoSQL puede sacrificar consistencia inmediata a cambio de disponibilidad y tolerancia a particiones.</li>
    </ul>

    <pre><code>// Ejemplo de consulta en Redis
SET clave "valor"
GET clave
</code></pre>

    <h2>3. ¿Cómo elegirías entre una base de datos SQL y una NoSQL?</h2>
    <p><strong>Respuesta:</strong> Elegiría una base de datos NoSQL cuando los datos son no estructurados o crecen de manera descontrolada, o cuando es necesario escalar horizontalmente. Por otro lado, usaría SQL cuando se requiere transaccionalidad, integridad referencial, y un esquema fijo.</p>

    <h2>4. ¿Qué significa el término "Eventual Consistency" en NoSQL?</h2>
    <p><strong>Respuesta:</strong> La "eventual consistency" significa que en un sistema distribuido, las actualizaciones de datos no se reflejan inmediatamente en todos los nodos, pero eventualmente, todas las copias de los datos convergerán al mismo estado.</p>

    <h2>5. ¿Qué es el modelo CAP y cómo afecta a las bases de datos NoSQL?</h2>
    <p><strong>Respuesta:</strong> El teorema CAP establece que una base de datos distribuida puede garantizar solo dos de las tres propiedades:</p>
    <ul>
        <li><strong>Consistencia</strong>: Todos los nodos ven los mismos datos al mismo tiempo.</li>
        <li><strong>Disponibilidad</strong>: Cada solicitud recibe una respuesta (éxito o fallo).</li>
        <li><strong>Tolerancia a particiones</strong>: El sistema sigue funcionando a pesar de la pérdida de comunicación entre nodos.</li>
    </ul>

    <h2>6. ¿Qué es un documento en una base de datos NoSQL documental?</h2>
    <p><strong>Respuesta:</strong> Un documento en una base de datos NoSQL documental (como MongoDB) es un registro que contiene datos en formato JSON o BSON. Cada documento puede tener una estructura diferente, lo que da flexibilidad a los datos.</p>

    <pre><code>// Ejemplo de documento en MongoDB
{
    "nombre": "María",
    "edad": 28,
    "dirección": {
        "calle": "Calle 123",
        "ciudad": "Bogotá"
    }
}
</code></pre>

    <h2>7. ¿Cómo realizarías una consulta de búsqueda en MongoDB?</h2>
    <p><strong>Respuesta:</strong> Utilizaría la sentencia <code>find()</code> para buscar documentos que coincidan con ciertos criterios.</p>
    <pre><code>db.collection.find({"edad": {"$gt": 25}});
</code></pre>

    <h2>8. ¿Qué es el particionamiento en bases de datos NoSQL y por qué es importante?</h2>
    <p><strong>Respuesta:</strong> El particionamiento distribuye los datos en múltiples servidores o nodos para mejorar la escalabilidad y el rendimiento. Es crucial en bases de datos NoSQL porque ayuda a manejar grandes cantidades de datos y tráfico.</p>

    <h2>9. ¿Qué es un índice en una base de datos NoSQL y cómo mejora el rendimiento?</h2>
    <p><strong>Respuesta:</strong> Un índice en NoSQL mejora el rendimiento de las consultas al permitir búsquedas más rápidas sobre ciertos campos. Por ejemplo, en MongoDB se puede crear un índice en una clave específica para acelerar las búsquedas.</p>

    <pre><code>// Crear un índice en MongoDB
db.collection.createIndex({"nombre": 1});
</code></pre>

    <h2>10. ¿Cómo manejarías la consistencia eventual en una aplicación que usa una base de datos NoSQL?</h2>
    <p><strong>Respuesta:</strong> Al trabajar con consistencia eventual, diseñaría la aplicación para manejar estados inconsistentes temporalmente. También podría implementar un mecanismo de reconcilio o notificaciones para asegurar que los usuarios reciban actualizaciones correctas eventualmente.</p>

    <h2>11. ¿Qué es un esquema flexible y por qué es ventajoso en NoSQL?</h2>
    <p><strong>Respuesta:</strong> Un esquema flexible significa que los datos pueden almacenarse sin una estructura fija, lo que permite que diferentes documentos en la misma colección tengan diferentes campos. Es ventajoso porque facilita cambios rápidos en la estructura de los datos sin necesidad de migraciones complejas.</p>

    <h2>12. ¿Qué es MapReduce y cómo lo usarías en bases de datos NoSQL?</h2>
    <p><strong>Respuesta:</strong> <strong>MapReduce</strong> es un modelo de procesamiento distribuido que permite realizar operaciones de agregación sobre grandes conjuntos de datos en paralelo. En MongoDB, MapReduce se usa para procesar y analizar grandes volúmenes de documentos.</p>

    <pre><code>db.collection.mapReduce(
    function() { emit(this.category, 1); }, // Mapeo
    function(key, values) { return Array.sum(values); }, // Reducción
    { out: "resultado" }
);
</code></pre>

    <h2>13. ¿Qué ventajas ofrece la replicación en bases de datos NoSQL?</h2>
    <p><strong>Respuesta:</strong> La replicación mejora la disponibilidad y tolerancia a fallos al crear copias redundantes de los datos en múltiples nodos. Si un nodo falla, otro nodo puede seguir atendiendo las solicitudes, asegurando alta disponibilidad.</p>

    <h2>14. ¿Cómo funciona la consistencia en un sistema distribuido basado en NoSQL?</h2>
    <p><strong>Respuesta:</strong> En NoSQL, la consistencia varía dependiendo del sistema. Algunos aseguran <strong>consistencia eventual</strong>, donde los datos pueden estar temporalmente desincronizados, pero eventualmente todos los nodos convergen al mismo estado.</p>

    <h2>15. ¿Qué es un sistema de base de datos de grafos y cuándo lo usarías?</h2>
    <p><strong>Respuesta:</strong> Un sistema de base de datos de grafos (como Neo4j) está optimizado para manejar relaciones entre entidades. Es útil cuando las conexiones entre los datos son fundamentales, como en redes sociales o sistemas de recomendaciones.</p>

    <h2>16. ¿Qué es un almacenamiento clave-valor y cómo se utiliza?</h2>
    <p><strong>Respuesta:</strong> Un almacenamiento clave-valor, como Redis, guarda datos como pares clave-valor. Es ideal para escenarios donde las búsquedas se basan en una clave única, como caché de sesiones o configuraciones de aplicaciones.</p>

    <pre><code>SET "usuario:123" "Juan"
GET "usuario:123"
</code></pre>

    <h2>17. ¿Cómo mejorarías el rendimiento de consultas en una base de datos documental NoSQL?</h2>
    <p><strong>Respuesta:</strong> Implementaría índices en los campos que más se consultan, usaría particionamiento y distribuiría los datos para mejorar la latencia.</p>

    <h2>18. ¿Cómo manejarías transacciones en una base de datos NoSQL que no las soporte nativamente?</h2>
    <p><strong>Respuesta:</strong> Usaría <strong>compensating transactions</strong> o diseñaría la lógica de la aplicación para manejar operaciones idempotentes, asegurando que las transacciones parciales se reconcilien.</p>

    <h2>19. ¿Qué es una base de datos orientada a columnas y cuándo es útil?</h2>
    <p><strong>Respuesta:</strong> Las bases de datos orientadas a columnas, como Cassandra, almacenan los datos por columnas en lugar de filas. Son útiles para análisis de grandes volúmenes de datos y consultas de agregación.</p>

    <h2>20. ¿Cómo se manejan las relaciones en bases de datos NoSQL documentales?</h2>
    <p><strong>Respuesta:</strong> En lugar de usar <strong>joins</strong> como en SQL, en NoSQL se recomienda usar documentos embebidos o hacer referencia a otros documentos mediante IDs. Las relaciones son manejadas en la capa de aplicación.</p>

    <h2>21. ¿Qué problemas de consistencia pueden surgir en bases de datos distribuidas?</h2>
    <p><strong>Respuesta:</strong> En bases de datos distribuidas, pueden surgir inconsistencias debido a la latencia entre nodos, fallos en la comunicación o diferentes nodos actualizando datos de forma simultánea. Esto puede llevar a datos desincronizados temporalmente.</p>

    <h2>22. ¿Cómo manejarías datos geoespaciales en una base de datos NoSQL?</h2>
    <p><strong>Respuesta:</strong> En MongoDB, usaría índices geoespaciales para almacenar y consultar datos relacionados con ubicaciones. Esto permite realizar consultas como "encontrar todos los puntos cercanos a una ubicación dada".</p>

    <pre><code>db.collection.createIndex({ location: "2dsphere" });
db.collection.find({
    location: {
        $near: {
            $geometry: { type: "Point", coordinates: [ -73.97, 40.77 ] },
            $maxDistance: 5000
        }
    }
});
</code></pre>

    <h2>23. ¿Qué es el sharding y cómo se implementa en NoSQL?</h2>
    <p><strong>Respuesta:</strong> El <strong>sharding</strong> es la técnica de dividir grandes colecciones de datos en partes más pequeñas, llamadas shards, que se distribuyen en diferentes servidores. En MongoDB, el sharding permite escalar horizontalmente grandes volúmenes de datos.</p>

    <h2>24. ¿Cómo manejarías consultas complejas en una base de datos NoSQL?</h2>
    <p><strong>Respuesta:</strong> En bases de datos NoSQL, las consultas complejas como las agregaciones se manejan usando <strong>pipelines</strong> o <strong>MapReduce</strong>, permitiendo realizar filtrados, agrupamientos y cálculos sobre los datos.</p>

    <h2>25. ¿Cómo sincronizarías datos entre una base de datos SQL y una NoSQL?</h2>
    <p><strong>Respuesta:</strong> Utilizaría un sistema de sincronización de datos, como Apache Kafka, que actúe como middleware para leer los cambios en la base de datos SQL y replicarlos en NoSQL. También podría implementar una API para mantener ambas bases de datos sincronizadas.</p>

    <h2>26. ¿Qué es la replicación maestro-esclavo en bases de datos NoSQL?</h2>
    <p><strong>Respuesta:</strong> En la replicación maestro-esclavo, un nodo maestro maneja las escrituras y distribuye las actualizaciones a uno o más nodos esclavos. Los esclavos solo permiten lecturas, lo que mejora la disponibilidad y redundancia de los datos.</p>

    <h2>27. ¿Qué es una base de datos NoSQL orientada a grafos y cuándo la usarías?</h2>
    <p><strong>Respuesta:</strong> Una base de datos orientada a grafos, como Neo4j, almacena datos en nodos y aristas que representan relaciones. Se usa en aplicaciones donde las relaciones entre los datos son más importantes que los propios datos, como en redes sociales.</p>

    <h2>28. ¿Cómo implementarías una estrategia de respaldo en bases de datos NoSQL?</h2>
    <p><strong>Respuesta:</strong> Implementaría respaldos incrementales periódicos y utilizaría herramientas nativas como <code>mongodump</code> en MongoDB o snapshots en Redis para asegurar la integridad de los datos y una rápida recuperación ante fallos.</p>

    <h2>29. ¿Cuándo elegirías NoSQL en lugar de una base de datos relacional?</h2>
    <p><strong>Respuesta:</strong> Optaría por NoSQL cuando se requiere escalabilidad horizontal, los datos son no estructurados, o la aplicación requiere alta disponibilidad y tolerancia a fallos, como en sistemas distribuidos y aplicaciones web de gran escala.</p>

    <h2>30. ¿Cómo maneja Cassandra la replicación y partición de datos?</h2>
    <p><strong>Respuesta:</strong> Cassandra utiliza replicación para asegurar que los datos se almacenen en múltiples nodos para alta disponibilidad. Además, implementa particionamiento para distribuir datos entre nodos de manera eficiente utilizando un algoritmo de hash.</p>

</body>
</html>
