<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preguntas y Respuestas sobre Criptografía Básica y Manejo de Certificados Digitales</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        pre {
            background-color: #f9f9f9;
            padding: 10px;
            border: 1px solid #ddd;
            overflow: auto;
        }
    </style>
</head>
<body>
    <h1>Preguntas y Respuestas sobre Criptografía Básica y Manejo de Certificados Digitales</h1>
    <table>
        <thead>
            <tr>
                <th>Pregunta</th>
                <th>Respuesta</th>
                <th>Ejemplo de Código</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1. ¿Qué es la criptografía simétrica?</td>
                <td>La criptografía simétrica utiliza la misma clave para cifrar y descifrar datos.</td>
                <td>
                    <pre><code># Python: Ejemplo de cifrado simétrico usando AES
from Crypto.Cipher import AES
from Crypto.Util.Padding import pad, unpad
from Crypto.Random import get_random_bytes

key = get_random_bytes(16)
cipher = AES.new(key, AES.MODE_CBC)
plaintext = b'Hello, World!'
ciphertext = cipher.encrypt(pad(plaintext, AES.block_size))
print(ciphertext)
</code></pre>
                </td>
            </tr>
            <tr>
                <td>2. ¿Qué es la criptografía asimétrica?</td>
                <td>La criptografía asimétrica utiliza un par de claves, una pública para cifrar y una privada para descifrar.</td>
                <td>
                    <pre><code># Python: Ejemplo de cifrado asimétrico usando RSA
from Crypto.PublicKey import RSA
from Crypto.Cipher import PKCS1_OAEP

key = RSA.generate(2048)
cipher = PKCS1_OAEP.new(key.publickey())
plaintext = b'Hello, World!'
ciphertext = cipher.encrypt(plaintext)
print(ciphertext)
</code></pre>
                </td>
            </tr>
            <tr>
                <td>3. ¿Qué es un certificado digital?</td>
                <td>Un certificado digital es un archivo que asocia una clave pública con una identidad, validado por una autoridad certificadora.</td>
                <td></td>
            </tr>
            <tr>
                <td>4. ¿Cómo se genera un par de claves RSA en Java?</td>
                <td>Se utiliza la clase `KeyPairGenerator` para generar un par de claves RSA.</td>
                <td>
                    <pre><code>// Java: Generación de un par de claves RSA
import java.security.KeyPair;
import java.security.KeyPairGenerator;
import java.security.NoSuchAlgorithmException;

public class RSAKeyPair {
    public static void main(String[] args) throws NoSuchAlgorithmException {
        KeyPairGenerator keyGen = KeyPairGenerator.getInstance("RSA");
        keyGen.initialize(2048);
        KeyPair keyPair = keyGen.generateKeyPair();
        System.out.println("Public Key: " + keyPair.getPublic());
        System.out.println("Private Key: " + keyPair.getPrivate());
    }
}
</code></pre>
                </td>
            </tr>
            <tr>
                <td>5. ¿Qué es el algoritmo SHA-256?</td>
                <td>SHA-256 es un algoritmo de hash que genera un resumen de 256 bits a partir de datos de entrada.</td>
                <td>
                    <pre><code># Python: Ejemplo de hash SHA-256
import hashlib

data = b'Hello, World!'
hash_object = hashlib.sha256(data)
hex_dig = hash_object.hexdigest()
print(hex_dig)
</code></pre>
                </td>
            </tr>
            <tr>
                <td>6. ¿Cómo se firma digitalmente un mensaje en C#?</td>
                <td>Se utiliza la clase `RSACryptoServiceProvider` para crear una firma digital.</td>
                <td>
                    <pre><code>// C#: Ejemplo de firma digital
using System;
using System.Security.Cryptography;
using System.Text;

class Program
{
    static void Main()
    {
        using (var rsa = new RSACryptoServiceProvider())
        {
            var data = Encoding.UTF8.GetBytes("Hello, World!");
            var signature = rsa.SignData(data, CryptoConfig.MapNameToOID("SHA256"));
            Console.WriteLine(Convert.ToBase64String(signature));
        }
    }
}
</code></pre>
                </td>
            </tr>
            <tr>
                <td>7. ¿Qué es una autoridad certificadora (CA)?</td>
                <td>Una autoridad certificadora (CA) es una entidad que emite certificados digitales y verifica la identidad de las partes.</td>
                <td></td>
            </tr>
            <tr>
                <td>8. ¿Cómo se verifica una firma digital en TypeScript?</td>
                <td>Se usa la biblioteca `crypto` para verificar firmas digitales en Node.js.</td>
                <td>
                    <pre><code>// TypeScript: Ejemplo de verificación de firma digital
import * as crypto from 'crypto';

const publicKey = `-----BEGIN PUBLIC KEY-----
...
-----END PUBLIC KEY-----`;
const verifier = crypto.createVerify('SHA256');
verifier.update('Hello, World!');
const signature = Buffer.from('signature_here', 'base64');
const isValid = verifier.verify(publicKey, signature);
console.log(isValid);
</code></pre>
                </td>
            </tr>
            <tr>
                <td>9. ¿Cómo se cifra un archivo usando AES en Java?</td>
                <td>Se usa la clase `Cipher` para cifrar datos con AES.</td>
                <td>
                    <pre><code>// Java: Ejemplo de cifrado AES
import javax.crypto.Cipher;
import javax.crypto.KeyGenerator;
import javax.crypto.SecretKey;
import javax.crypto.spec.SecretKeySpec;
import java.util.Base64;

public class AESEncryption {
    public static void main(String[] args) throws Exception {
        KeyGenerator keyGen = KeyGenerator.getInstance("AES");
        keyGen.init(128);
        SecretKey secretKey = keyGen.generateKey();
        Cipher cipher = Cipher.getInstance("AES");
        cipher.init(Cipher.ENCRYPT_MODE, secretKey);
        byte[] encrypted = cipher.doFinal("Hello, World!".getBytes());
        System.out.println(Base64.getEncoder().encodeToString(encrypted));
    }
}
</code></pre>
                </td>
            </tr>
            <tr>
                <td>10. ¿Qué es el "Key Exchange" y por qué es importante?</td>
                <td>El "Key Exchange" es el proceso de intercambiar claves de cifrado de manera segura. Es importante para establecer sesiones seguras entre partes.</td>
                <td></td>
            </tr>
            <tr>
                <td>11. ¿Cómo se realiza el "Key Exchange" utilizando Diffie-Hellman en Python?</td>
                <td>Se utiliza la biblioteca `cryptography` para implementar Diffie-Hellman.</td>
                <td>
                    <pre><code># Python: Ejemplo de intercambio de claves con Diffie-Hellman
from cryptography.hazmat.primitives.asymmetric import dh
from cryptography.hazmat.primitives import serialization

parameters = dh.generate_parameters(generator=2, key_size=2048)
private_key = parameters.generate_private_key()
public_key = private_key.public_key()
print(public_key.public_bytes(encoding=serialization.Encoding.PEM, format=serialization.PublicFormat.SubjectPublicKeyInfo))
</code></pre>
                </td>
            </tr>
            <tr>
                <td>12. ¿Cómo se genera un certificado autofirmado en Java?</td>
                <td>Se utiliza `KeyPairGenerator` y `X509V3CertificateGenerator` para generar un certificado autofirmado.</td>
                <td>
                    <pre><code>// Java: Ejemplo de generación de un certificado autofirmado
import java.security.KeyPair;
import java.security.KeyPairGenerator;
import java.security.Security;
import java.security.cert.X509Certificate;
import org.bouncycastle.jce.provider.BouncyCastleProvider;
import org.bouncycastle.x509.X509V3CertificateGenerator;
import java.math.BigInteger;
import java.util.Date;

public class SelfSignedCertificate {
    public static void main(String[] args) throws Exception {
        Security.addProvider(new BouncyCastleProvider());
        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance("RSA");
        keyPairGenerator.initialize(2048);
        KeyPair keyPair = keyPairGenerator.generateKeyPair();

        X509V3CertificateGenerator certGen = new X509V3CertificateGenerator();
        certGen.setSerialNumber(BigInteger.ONE);
        certGen.setSubjectDN(new org.bouncycastle.asn1.x509.X509Name("CN=Test"));
        certGen.setIssuerDN(new org.bouncycastle.asn1.x509.X509Name("CN=Test"));
        certGen.setPublicKey(keyPair.getPublic());
        certGen.setNotBefore(new Date(System.currentTimeMillis()));
        certGen.setNotAfter(new Date(System.currentTimeMillis() + 365 * 24 * 60 * 60 * 1000L));
        X509Certificate certificate = certGen.generate(keyPair.getPrivate());
        System.out.println(certificate);
    }
}
</code></pre>
                </td>
            </tr>
            <tr>
                <td>13. ¿Cómo se encripta y se descifra un mensaje en TypeScript?</td>
                <td>Se utiliza la biblioteca `crypto` en Node.js para cifrar y descifrar mensajes.</td>
                <td>
                    <pre><code>// TypeScript: Ejemplo de cifrado y descifrado con AES
import * as crypto from 'crypto';

const key = crypto.randomBytes(32);
const iv = crypto.randomBytes(16);
const cipher = crypto.createCipheriv('aes-256-cbc', key, iv);
const encrypted = Buffer.concat([cipher.update('Hello, World!', 'utf8'), cipher.final()]);
const decipher = crypto.createDecipheriv('aes-256-cbc', key, iv);
const decrypted = Buffer.concat([decipher.update(encrypted), decipher.final()]);
console.log(decrypted.toString());
</code></pre>
                </td>
            </tr>
            <tr>
                <td>14. ¿Qué es el "TLS" y cómo se usa en la comunicación segura?</td>
                <td>TLS (Transport Layer Security) es un protocolo que proporciona comunicación segura en redes. Se usa para cifrar datos entre el cliente y el servidor.</td>
                <td></td>
            </tr>
            <tr>
                <td>15. ¿Cómo se verifica la validez de un certificado digital?</td>
                <td>Se verifica comprobando la firma del certificado con la autoridad certificadora, asegurando que no esté expirado y que esté revocado.</td>
                <td></td>
            </tr>
            <tr>
                <td>16. ¿Cómo se genera una clave privada en Python?</td>
                <td>Se utiliza la biblioteca `cryptography` para generar claves privadas.</td>
                <td>
                    <pre><code># Python: Ejemplo de generación de una clave privada RSA
from cryptography.hazmat.primitives.asymmetric import rsa
from cryptography.hazmat.primitives import serialization

private_key = rsa.generate_private_key(public_exponent=65537, key_size=2048)
pem = private_key.private_bytes(
    encoding=serialization.Encoding.PEM,
    format=serialization.PrivateFormat.TraditionalOpenSSL,
    encryption_algorithm=serialization.NoEncryption()
)
print(pem.decode())
</code></pre>
                </td>
            </tr>
            <tr>
                <td>17. ¿Qué es el "HMAC" y cómo se usa en la autenticación de mensajes?</td>
                <td>HMAC (Hash-based Message Authentication Code) usa una clave secreta y una función hash para verificar la integridad y autenticidad de los datos.</td>
                <td>
                    <pre><code># Python: Ejemplo de HMAC con SHA-256
import hmac
import hashlib

key = b'secret'
message = b'Hello, World!'
hmac_obj = hmac.new(key, message, hashlib.sha256)
print(hmac_obj.hexdigest())
</code></pre>
                </td>
            </tr>
            <tr>
                <td>18. ¿Cómo se usa un certificado digital en una conexión HTTPS en Java?</td>
                <td>Se configura un `SSLContext` con el certificado digital para establecer conexiones HTTPS seguras.</td>
                <td>
                    <pre><code>// Java: Configuración de HTTPS con certificado digital
import javax.net.ssl.SSLContext;
import javax.net.ssl.KeyManagerFactory;
import javax.net.ssl.TrustManagerFactory;
import java.security.KeyStore;
import java.security.cert.CertificateFactory;
import java.io.FileInputStream;

public class HttpsExample {
    public static void main(String[] args) throws Exception {
        KeyStore keyStore = KeyStore.getInstance("PKCS12");
        FileInputStream fis = new FileInputStream("keystore.p12");
        keyStore.load(fis, "password".toCharArray());
        KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());
        kmf.init(keyStore, "password".toCharArray());
        
        SSLContext sslContext = SSLContext.getInstance("TLS");
        sslContext.init(kmf.getKeyManagers(), null, null);
        System.out.println("SSLContext setup completed");
    }
}
</code></pre>
                </td>
            </tr>
            <tr>
                <td>19. ¿Qué es el "CRL" y cuál es su propósito?</td>
                <td>El CRL (Certificate Revocation List) es una lista que contiene certificados digitales que han sido revocados antes de su fecha de expiración.</td>
                <td></td>
            </tr>
            <tr>
                <td>20. ¿Cómo se extrae el contenido de un certificado digital en Python?</td>
                <td>Se utiliza la biblioteca `cryptography` para leer y extraer datos de un certificado.</td>
                <td>
                    <pre><code># Python: Ejemplo de extracción de información de un certificado digital
from cryptography import x509
from cryptography.hazmat.backends import default_backend

with open("certificate.pem", "rb") as f:
    cert_data = f.read()
    cert = x509.load_pem_x509_certificate(cert_data, default_backend())
    print(cert.subject)
    print(cert.issuer)
</code></pre>
                </td>
            </tr>
            <tr>
                <td>21. ¿Cómo se realiza la generación de un certificado SSL/TLS autofirmado en C#?</td>
                <td>Se utiliza la clase `X509Certificate2` para generar un certificado SSL/TLS autofirmado.</td>
                <td>
                    <pre><code>// C#: Generación de un certificado SSL/TLS autofirmado
using System;
using System.Security.Cryptography.X509Certificates;

class Program
{
    static void Main()
    {
        var certificate = new X509Certificate2("path_to_cert.pfx", "password");
        Console.WriteLine(certificate);
    }
}
</code></pre>
                </td>
            </tr>
            <tr>
                <td>22. ¿Qué es la "encriptación asimétrica" y cómo se diferencia de la simétrica?</td>
                <td>La encriptación asimétrica usa un par de claves (pública y privada), mientras que la simétrica usa una sola clave para cifrar y descifrar.</td>
                <td></td>
            </tr>
            <tr>
                <td>23. ¿Cómo se implementa el cifrado de datos con RSA en TypeScript?</td>
                <td>Se utiliza la biblioteca `node-forge` para cifrar y descifrar datos con RSA.</td>
                <td>
                    <pre><code>// TypeScript: Ejemplo de cifrado con RSA usando node-forge
import * as forge from 'node-forge';

const { publicKey, privateKey } = forge.pki.rsa.generateKeyPair(2048);
const encrypted = publicKey.encrypt('Hello, World!');
const decrypted = privateKey.decrypt(encrypted);
console.log(decrypted);
</code></pre>
                </td>
            </tr>
            <tr>
                <td>24. ¿Qué es el "PKCS#12" y cómo se usa en Java?</td>
                <td>PKCS#12 es un estándar para almacenar claves privadas y certificados. Se usa para importar y exportar certificados en Java.</td>
                <td>
                    <pre><code>// Java: Cargar un archivo PKCS#12
import java.io.FileInputStream;
import java.security.KeyStore;

public class PKCS12Example {
    public static void main(String[] args) throws Exception {
        KeyStore keyStore = KeyStore.getInstance("PKCS12");
        FileInputStream fis = new FileInputStream("keystore.p12");
        keyStore.load(fis, "password".toCharArray());
        System.out.println("KeyStore loaded");
    }
}
</code></pre>
                </td>
            </tr>
            <tr>
                <td>25. ¿Cómo se cifra un mensaje en Java usando el algoritmo AES?</td>
                <td>Se usa la clase `Cipher` para cifrar datos con el algoritmo AES.</td>
                <td>
                    <pre><code>// Java: Ejemplo de cifrado AES
import javax.crypto.Cipher;
import javax.crypto.KeyGenerator;
import javax.crypto.SecretKey;
import javax.crypto.spec.SecretKeySpec;
import java.util.Base64;

public class AESEncryption {
    public static void main(String[] args) throws Exception {
        KeyGenerator keyGen = KeyGenerator.getInstance("AES");
        keyGen.init(128);
        SecretKey secretKey = keyGen.generateKey();
        Cipher cipher = Cipher.getInstance("AES");
        cipher.init(Cipher.ENCRYPT_MODE, secretKey);
        byte[] encrypted = cipher.doFinal("Hello, World!".getBytes());
        System.out.println(Base64.getEncoder().encodeToString(encrypted));
    }
}
</code></pre>
                </td>
            </tr>
            <tr>
                <td>26. ¿Cómo se realiza la verificación de una firma digital en Java?</td>
                <td>Se usa la clase `Signature` para verificar una firma digital.</td>
                <td>
                    <pre><code>// Java: Ejemplo de verificación de firma digital
import java.security.KeyPair;
import java.security.KeyPairGenerator;
import java.security.PrivateKey;
import java.security.PublicKey;
import java.security.Signature;
import java.util.Base64;

public class SignatureVerification {
    public static void main(String[] args) throws Exception {
        KeyPairGenerator keyGen = KeyPairGenerator.getInstance("RSA");
        keyGen.initialize(2048);
        KeyPair keyPair = keyGen.generateKeyPair();
        PrivateKey privateKey = keyPair.getPrivate();
        PublicKey publicKey = keyPair.getPublic();
        
        Signature signer = Signature.getInstance("SHA256withRSA");
        signer.initSign(privateKey);
        byte[] data = "Hello, World!".getBytes();
        signer.update(data);
        byte[] signature = signer.sign();
        
        Signature verifier = Signature.getInstance("SHA256withRSA");
        verifier.initVerify(publicKey);
        verifier.update(data);
        boolean isValid = verifier.verify(signature);
        System.out.println("Signature valid: " + isValid);
    }
}
</code></pre>
                </td>
            </tr>
        </tbody>
    </table>
</body>
</html>
