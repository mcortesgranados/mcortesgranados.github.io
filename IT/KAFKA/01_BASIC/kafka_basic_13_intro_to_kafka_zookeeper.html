<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Kafka ZooKeeper</title>
    <style>
        body {
            font-family: Arial, Calibri, sans-serif;
            line-height: 1.6;
        }
        h1, h2 {
            color: #333;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
        }
        code {
            font-family: Consolas, "Courier New", monospace;
        }
        .diagram {
            text-align: center;
            margin: 20px 0;
        }
        .diagram img {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <h1>Introduction to Kafka ZooKeeper</h1>
    <p>ZooKeeper is a crucial component in the Kafka ecosystem that helps manage distributed systems. It coordinates and maintains configuration information, naming, and synchronization across distributed services. Kafka relies on ZooKeeper to handle broker metadata, leader election, and other distributed system tasks.</p>

    <h2>1. What is ZooKeeper?</h2>
    <p>ZooKeeper is a centralized service for maintaining configuration information, naming, and providing distributed synchronization. It helps manage distributed applications by providing a reliable and consistent service for coordinating distributed systems.</p>

    <h2>2. Role of ZooKeeper in Kafka</h2>
    <p>In Kafka, ZooKeeper performs several key roles:</p>
    <ul>
        <li><strong>Broker Metadata Management:</strong> ZooKeeper maintains the metadata for Kafka brokers and topics, allowing clients and brokers to discover the cluster's structure.</li>
        <li><strong>Leader Election:</strong> ZooKeeper helps elect a leader for each partition, ensuring that the leader is responsible for handling all reads and writes for that partition.</li>
        <li><strong>Configuration Management:</strong> ZooKeeper stores and manages configuration data for Kafka brokers and topics.</li>
        <li><strong>Consumer Group Coordination:</strong> ZooKeeper tracks the offsets of consumers in a consumer group, facilitating coordination and fault tolerance.</li>
    </ul>

    <h2>3. Example: Basic ZooKeeper Setup for Kafka</h2>
    <p>Hereâ€™s a basic example of how to set up ZooKeeper for a Kafka cluster. This example assumes you have ZooKeeper and Kafka installed on your local machine.</p>

    <pre><code>
# Start ZooKeeper server
# Assuming ZooKeeper is installed in /usr/local/zookeeper
/usr/local/zookeeper/bin/zkServer.sh start

# Start Kafka server
# Assuming Kafka is installed in /usr/local/kafka
/usr/local/kafka/bin/kafka-server-start.sh /usr/local/kafka/config/server.properties
    </code></pre>

    <h2>4. ZooKeeper and Kafka Architecture Diagram</h2>
    <p>The following diagram illustrates the interaction between Kafka brokers and ZooKeeper, highlighting the roles ZooKeeper plays in managing Kafka clusters.</p>

    <div class="diagram">
        <img src="kafka-zookeeper-architecture-diagram.png" alt="Kafka and ZooKeeper Architecture Diagram">
        <p><em>Diagram: Kafka and ZooKeeper Architecture</em></p>
    </div>

    <h2>5. Key Concepts</h2>
    <ul>
        <li><strong>ZooKeeper Ensemble:</strong> A group of ZooKeeper servers working together to ensure high availability and reliability.</li>
        <li><strong>ZNode:</strong> A node in the ZooKeeper tree that stores configuration data and metadata.</li>
        <li><strong>Session:</strong> A connection between a ZooKeeper client and the ZooKeeper server, used for communication and coordination.</li>
    </ul>

    <h2>6. Conclusion</h2>
    <p>ZooKeeper is essential for managing and coordinating distributed Kafka brokers, ensuring smooth operation and high availability of the Kafka cluster. Understanding how ZooKeeper integrates with Kafka helps in configuring and troubleshooting Kafka deployments.</p>
</body>
</html>
