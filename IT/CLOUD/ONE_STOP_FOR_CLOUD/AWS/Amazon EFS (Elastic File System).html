<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Amazon EFS (Elastic File System)</title>
<link href="../estilos.css" rel="stylesheet" type="text/css" />
</head>

<body class="texto8_1">
<p><a href="../EFS_references_jpg.html" target="_blank">ACG LINK</a></p>
<p><strong>Amazon EFS (Elastic File System): Overview and Configuration Example</strong></p>
<p>Amazon Elastic File System (Amazon EFS) is a scalable and fully managed file storage service that can be easily mounted on multiple Amazon EC2 instances. It provides a simple, scalable, and highly available file system for use with both Linux and Windows instances. Here's a detailed overview of Amazon EFS along with a configuration example:</p>
<h3>Features of Amazon EFS:</h3>
<ol>
  <li>
    <p><strong>File Storage:</strong></p>
    <ul>
      <li>Amazon EFS provides scalable file storage that can be mounted to multiple EC2 instances.</li>
    </ul>
  </li>
  <li><strong>Elastic Scaling:</strong>
    <ul>
      <li>Automatically scales storage capacity as files are added, and it can grow to petabytes in size.</li>
    </ul>
  </li>
  <li><strong>Compatibility:</strong>
    <ul>
      <li>Compatible with Linux-based EC2 instances, supporting NFS (Network File System) version 4.</li>
    </ul>
  </li>
  <li><strong>High Availability:</strong>
    <ul>
      <li>Data is stored redundantly across multiple Availability Zones within a region for high availability.</li>
    </ul>
  </li>
  <li><strong>Performance Modes:</strong>
    <ul>
      <li>Offers two performance modes: General Purpose (default) and Max I/O.</li>
      <li>General Purpose mode is suitable for most workloads, while Max I/O is designed for high-performance, low-latency applications.</li>
    </ul>
  </li>
  <li><strong>Lifecycle Management:</strong>
    <ul>
      <li>Supports data lifecycle management with the ability to create and manage automated backups.</li>
    </ul>
  </li>
  <li><strong>Access Control:</strong>
    <ul>
      <li>Supports standard POSIX permissions and Access Control Lists (ACLs) for fine-grained access control.</li>
    </ul>
  </li>
  <li><strong>Mount Targets:</strong>
    <ul>
      <li>Multiple mount targets can be created in different subnets, allowing EC2 instances in different subnets to access the same EFS file system.</li>
    </ul>
  </li>
</ol>
<h3>Configuration Example:</h3>
<p>Let's create a simple Amazon EFS file system and mount it to an Amazon EC2 instance using the AWS Management Console:</p>
<ol>
  <li>
    <p><strong>Login to AWS Console:</strong></p>
    <ul>
      <li>Navigate to the <a target="_new">AWS Management Console</a>.</li>
    </ul>
  </li>
  <li><strong>Create an Amazon EFS File System:</strong>
    <ul>
      <li>Click on the &quot;EFS&quot; service.</li>
      <li>Click &quot;Create file system&quot; and configure the file system settings, such as the performance mode and throughput mode.</li>
    </ul>
  </li>
  <li><strong>Configure File System Access:</strong>
    <ul>
      <li>Set up the VPC and security group settings for the EFS file system.</li>
      <li>Create one or more mount targets in different subnets.</li>
    </ul>
  </li>
  <li><strong>Configure Encryption (Optional):</strong>
    <ul>
      <li>Optionally, configure encryption for data at rest by enabling the &quot;Encrypt&quot; option.</li>
    </ul>
  </li>
  <li><strong>Create File System:</strong>
    <ul>
      <li>Review the configuration and click &quot;Create file system.&quot;</li>
    </ul>
  </li>
  <li><strong>Mount the EFS File System on EC2 Instance:</strong>
    <ul>
      <li>Launch or select an existing EC2 instance.</li>
      <li>Connect to the instance using SSH (for Linux) or RDP (for Windows).</li>
    </ul>
  </li>
  <li><strong>Install NFS Client (Linux):</strong>
    <ul>
      <li>On a Linux instance, install the NFS client if not already installed.</li>
    </ul>
    <pre><div><div>bash<button>Copy code</button></div><div>sudo apt-get update  sudo apt-get install nfs-common  </div></div>
</pre>
  </li>
  <li><strong>Mount the EFS File System (Linux):</strong>
    <ul>
      <li>Create a directory on the EC2 instance and mount the EFS file system.</li>
    </ul>
    <pre><div><div>bash<button>Copy code</button></div><div>sudo mkdir /mnt/myefs  sudo mount -t nfs4 -o nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2 &lt;EFS-DNS-Name&gt;:/ /mnt/myefs  </div></div>
</pre>
    <p>Replace &lt;EFS-DNS-Name&gt; with the DNS name of your EFS file system.</p>
  </li>
  <li>
    <p><strong>Verify the Mount (Linux):</strong></p>
    <ul>
      <li>Verify that the EFS file system is successfully mounted.</li>
    </ul>
    <pre><div><div>bash<button>Copy code</button></div><div>df -h  </div></div>
</pre>
  </li>
  <li><strong>Use the EFS File System:</strong>
    <ul>
      <li>Store and access files on the mounted EFS file system as needed.</li>
    </ul>
  </li>
  <li><strong>Unmount and Cleanup (Optional):</strong>
    <ul>
      <li>When finished, unmount the EFS file system using sudo umount /mnt/myefs (Linux).</li>
      <li>Optionally, you can delete the EFS file system and associated resources through the AWS Management Console.</li>
    </ul>
  </li>
</ol>
</body>
</html>
