<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<style type="text/css">
<!--
.question {            margin-bottom: 20px;
}
.style1 {color: #0099CC}
-->
</style>
</head>

<body>
<h1>Set 1: Executor Framework &amp; Thread Pools</h1>
<div class="question">
  <h2>1. What is the <span class="style1">Executor Framework</span> in Java?</h2>
  <p>The Executor Framework provides a high-level replacement for the traditional way of managing threads, allowing you to easily execute tasks asynchronously without directly managing the threads.</p>
</div>
<div class="question">
  <h2>2. What is the difference between <span class="style1">Executor</span>, <span class="style1">ExecutorService</span>, and <span class="style1">ThreadPoolExecutor</span>?</h2>
  <p> - <strong>Executor</strong>: A simple interface for executing tasks asynchronously. It has a method <code>execute()</code>.
    - <strong>ExecutorService</strong>: Extends Executor with lifecycle management methods like <code>submit()</code> and <code>shutdown()</code>.
    - <strong>ThreadPoolExecutor</strong>: A concrete implementation of ExecutorService that manages a pool of threads to execute tasks. </p>
</div>
<div class="question">
  <h2>3. How do you create a simple thread pool using the Executor framework?</h2>
  <p>Use <code>Executors.newFixedThreadPool()</code> to create a fixed thread pool: </p>
  <pre>
ExecutorService executor = Executors.newFixedThreadPool(10);
executor.submit(() -&gt; System.out.println(&quot;Task executed&quot;));
executor.shutdown();
        </pre>
  </p>
</div>
<div class="question">
  <h2>4. What is a <span class="style1">FixedThreadPool</span> and when should it be used?</h2>
  <p>A FixedThreadPool is a thread pool with a fixed number of threads. It is useful when you have a known number of concurrent tasks that need to be executed.</p>
</div>
<div class="question">
  <h2>5. What is the difference between <span class="style1">newCachedThreadPool</span> and <span class="style1">newFixedThreadPool</span>?</h2>
  <p> - <strong>newCachedThreadPool</strong>: Creates a thread pool that creates new threads as needed but reuses previously constructed threads when available.
    - <strong>newFixedThreadPool</strong>: Creates a thread pool with a fixed number of threads, reusing them for tasks. </p>
</div>
<div class="question">
  <h2>6. What does the <code>submit()</code> method in ExecutorService return?</h2>
  <p>The <code>submit()</code> method returns a <code>Future</code> object that represents the result of the asynchronous computation.</p>
</div>
<div class="question">
  <h2>7. How do you shut down an ExecutorService?</h2>
  <p>Use the <code>shutdown()</code> method to initiate an orderly shutdown where previously submitted tasks are executed, but no new tasks will be accepted: </p>
  <pre>
executorService.shutdown();
        </pre>
  </p>
</div>
<div class="question">
  <h2>8. What happens if you call <code>shutdownNow()</code> on ExecutorService?</h2>
  <p>The <code>shutdownNow()</code> method attempts to stop all actively executing tasks, halts the processing of waiting tasks, and returns a list of the tasks that were waiting to be executed.</p>
</div>
<div class="question">
  <h2>9. What is a <span class="style1">ScheduledThreadPoolExecutor</span>?</h2>
  <p>A <code>ScheduledThreadPoolExecutor</code> is an implementation of <code>ExecutorService</code> that can schedule commands to run after a delay or periodically.</p>
</div>
<div class="question">
  <h2>10. How do you schedule a task with a delay using a ScheduledThreadPoolExecutor?</h2>
  <p>Use <code>schedule()</code> method to schedule a task with a delay: </p>
  <pre>
ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);
scheduler.schedule(() -&gt; System.out.println(&quot;Task executed after delay&quot;), 5, TimeUnit.SECONDS);
        </pre>
  </p>
</div>
<blockquote>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
</blockquote>
<h1>Set 2: Executor Framework &amp; Thread Pools</h1>
<div class="question">
  <h2>11. What is the difference between execute() and submit() methods in <span class="style1">ExecutorService</span>?</h2>
  <p> - <strong>execute()</strong>: Runs the task but does not return any result or exception.
    - <strong>submit()</strong>: Returns a <code>Future</code> object, which can be used to retrieve the result or catch exceptions. </p>
</div>
<div class="question">
  <h2>12. How can you check if all tasks in <span class="style1">ExecutorService</span> are completed?</h2>
  <p>You can use <code>executorService.isTerminated()</code> to check if all tasks have finished executing.</p>
</div>
<div class="question">
  <h2>13. What is the <span class="style1">ForkJoinPool</span> in Java?</h2>
  <p>ForkJoinPool is a specialized thread pool for parallel processing using the Fork/Join framework, particularly suited for recursive tasks.</p>
</div>
<div class="question">
  <h2>14. How do you create a <span class="style1">single-threaded executor</span>?</h2>
  <p>Use <code>Executors.newSingleThreadExecutor()</code> to create an executor with a single worker thread.</p>
</div>
<div class="question">
  <h2 class="style1">15. What happens if a thread pool is exhausted?</h2>
  <p>New tasks will be queued until a thread becomes available, or if the queue is full, the task may be rejected.</p>
</div>
<div class="question">
  <h2>16. How do you handle rejected tasks in a ThreadPoolExecutor?</h2>
  <p>You can provide a <code>RejectedExecutionHandler</code> to define custom behavior when tasks are rejected.</p>
</div>
<div class="question">
  <h2>17. What is a WorkStealingPool?</h2>
  <p>A <code>WorkStealingPool</code> is a thread pool that uses multiple queues to balance work between worker threads dynamically.</p>
</div>
<div class="question">
  <h2>18. How can you retrieve results from multiple parallel tasks?</h2>
  <p>Use <code>invokeAll()</code> method in <code>ExecutorService</code> to submit multiple tasks and retrieve their results.</p>
</div>
<div class="question">
  <h2>19. What are the advantages of using a thread pool?</h2>
  <p> - Reduces overhead of thread creation and destruction.<br />
    - Improves application performance and resource utilization.<br />
    - Helps manage concurrency effectively. </p>
</div>
<div class="question">
  <h2>20. Can an ExecutorService be restarted after shutdown?</h2>
  <p>No, once an <code>ExecutorService</code> is shut down, it cannot be restarted. A new instance must be created.</p>
</div>
<h1>Set 3: Executor Framework &amp; Thread Pools</h1>
<div class="question">
  <h2>21. What is the difference between a CachedThreadPool and a FixedThreadPool?</h2>
  <p> - <strong>CachedThreadPool</strong>: Creates new threads as needed but reuses previously created threads.<br />
    - <strong>FixedThreadPool</strong>: Has a fixed number of threads and queues tasks when all threads are busy. </p>
</div>
<div class="question">
  <h2>22. How do you gracefully shut down an ExecutorService?</h2>
  <p>Use <code>shutdown()</code> to stop accepting new tasks but complete existing ones, or <code>shutdownNow()</code> to force termination.</p>
</div>
<div class="question">
  <h2>23. What is the difference between isShutdown() and isTerminated()?</h2>
  <p> - <code>isShutdown()</code>: Returns true if <code>shutdown()</code> or <code>shutdownNow()</code> has been called.<br />
    - <code>isTerminated()</code>: Returns true only when all tasks are completed. </p>
</div>
<div class="question">
  <h2>24. What is the purpose of ScheduledThreadPoolExecutor?</h2>
  <p>It allows scheduling tasks to run after a delay or periodically.</p>
</div>
<div class="question">
  <h2>25. How can you create a ScheduledThreadPool?</h2>
  <p>Use <code>Executors.newScheduledThreadPool(int corePoolSize)</code>.</p>
</div>
<div class="question">
  <h2>26. What is the purpose of the invokeAny() method?</h2>
  <p>It executes multiple tasks and returns the result of the first successfully completed task.</p>
</div>
<div class="question">
  <h2>27. How do you handle exceptions in a thread pool?</h2>
  <p>Wrap the task in a try-catch block or use <code>Future.get()</code> which throws an <code>ExecutionException</code> if an exception occurs.</p>
</div>
<div class="question">
  <h2>28. What happens if a thread in a FixedThreadPool throws an uncaught exception?</h2>
  <p>The thread is terminated and replaced with a new one.</p>
</div>
<div class="question">
  <h2>29. What is the role of ThreadFactory in an ExecutorService?</h2>
  <p>A <code>ThreadFactory</code> is used to create new threads in a custom manner, such as setting names or priorities.</p>
</div>
<div class="question">
  <h2>30. How do you get the number of active threads in an ExecutorService?</h2>
  <p>Use <code>((ThreadPoolExecutor) executorService).getActiveCount()</code>.</p>
</div>
<h1>Set 4: Executor Framework &amp; Thread Pools</h1>
<div class="question">
  <h2>31. How can you set a timeout for tasks in ExecutorService?</h2>
  <p>Use <code>future.get(timeout, TimeUnit.SECONDS)</code> to wait for a task with a timeout.</p>
</div>
<div class="question">
  <h2>32. What is the difference between newSingleThreadExecutor() and newFixedThreadPool(1)?</h2>
  <p> - <strong>newSingleThreadExecutor()</strong>: Ensures a single worker thread with a queue.<br />
    - <strong>newFixedThreadPool(1)</strong>: Similar but allows replacing the thread if it terminates due to an error. </p>
</div>
<div class="question">
  <h2>33. What is a BlockingQueue, and how does it work with ExecutorService?</h2>
  <p>A <code>BlockingQueue</code> stores tasks waiting for execution and blocks if the queue is full or empty.</p>
</div>
<div class="question">
  <h2>34. What is the difference between work-stealing and fixed-thread pools?</h2>
  <p> - <strong>Fixed-thread pool</strong>: Uses a predefined number of threads.<br />
    - <strong>Work-stealing pool</strong>: Uses dynamic balancing where idle threads take tasks from busy threads. </p>
</div>
<div class="question">
  <h2>35. How does a ForkJoinPool differ from a regular thread pool?</h2>
  <p>ForkJoinPool splits large tasks into smaller ones and uses work-stealing to optimize execution.</p>
</div>
<div class="question">
  <h2>36. What is the maximum number of threads that a CachedThreadPool can create?</h2>
  <p>It can create an unlimited number of threads based on demand but will reuse idle threads.</p>
</div>
<div class="question">
  <h2>37. What is the difference between invokeAll() and invokeAny()?</h2>
  <p> - <code>invokeAll()</code>: Runs multiple tasks and returns results for all.<br />
    - <code>invokeAny()</code>: Returns the result of the first successfully completed task. </p>
</div>
<div class="question">
  <h2>38. Can you schedule tasks with a delay using ExecutorService?</h2>
  <p>Yes, use <code>ScheduledExecutorService.schedule()</code> to delay execution.</p>
</div>
<div class="question">
  <h2>39. How do you limit the number of concurrent tasks in a thread pool?</h2>
  <p>Use <code>ThreadPoolExecutor</code> with a fixed number of threads and a queue limit.</p>
</div>
<div class="question">
  <h2>40. How does a thread pool improve application performance?</h2>
  <p>It reduces thread creation overhead, manages concurrency, and improves resource utilization.</p>
</div>
<h1>Set 5: Executor Framework &amp; Thread Pools</h1>
<div class="question">
  <h2>41. What is a daemon thread in Java, and how does it relate to thread pools?</h2>
  <p>A daemon thread runs in the background and terminates when no user threads are active. Thread pools typically use non-daemon threads.</p>
</div>
<div class="question">
  <h2>42. How do you create a custom ThreadFactory in Java?</h2>
  <p> Implement the <code>ThreadFactory</code> interface: </p>
  <pre>
class CustomThreadFactory implements ThreadFactory {
    private int count = 0;
    public Thread newThread(Runnable r) {
        return new Thread(r, &quot;CustomThread-&quot; + count++);
    }
}
            </pre>
  </p>
</div>
<div class="question">
  <h2>43. What is a fair vs. unfair thread scheduling policy?</h2>
  <p> - <strong>Fair</strong>: Threads are scheduled in order of arrival.<br />
    - <strong>Unfair</strong>: Some threads may execute more frequently based on priority. </p>
</div>
<div class="question">
  <h2>44. Can you modify the pool size of an ExecutorService at runtime?</h2>
  <p>Yes, by casting it to <code>ThreadPoolExecutor</code> and using <code>setCorePoolSize()</code> or <code>setMaximumPoolSize()</code>.</p>
</div>
<div class="question">
  <h2>45. What happens if a task in a thread pool runs indefinitely?</h2>
  <p>It can block other tasks. You should use timeouts or cancellation mechanisms.</p>
</div>
<div class="question">
  <h2>46. How do you detect if all tasks in a thread pool have completed?</h2>
  <p>Use <code>executorService.shutdown()</code> and then <code>executorService.awaitTermination(timeout, TimeUnit.SECONDS)</code>.</p>
</div>
<div class="question">
  <h2>47. What happens when a thread pool queue is full?</h2>
  <p>The rejected task is handled by a <code>RejectedExecutionHandler</code>, which can throw an exception, discard the task, or run it in the caller thread.</p>
</div>
<div class="question">
  <h2>48. How does a CallerRunsPolicy work in a thread pool?</h2>
  <p>If the pool is saturated, the task runs in the calling thread instead of being discarded.</p>
</div>
<div class="question">
  <h2>49. How do you prevent thread starvation in a thread pool?</h2>
  <p>Use a balanced mix of core and maximum threads, and avoid blocking operations inside tasks.</p>
</div>
<div class="question">
  <h2>50. What is the best way to debug issues in a thread pool?</h2>
  <p>Monitor thread states using <code>jconsole</code> or <code>VisualVM</code>, log task execution, and analyze deadlocks using <code>ThreadMXBean</code>.</p>
</div>
<p>&nbsp;</p>
<h1>Set 6: Executor Framework &amp; Thread Pools</h1>
<div class="question">
  <h2>51. What is a ThreadLocal variable, and how does it relate to thread pools?</h2>
  <p>A ThreadLocal variable is specific to each thread, preventing data sharing across threads in a pool.</p>
</div>
<div class="question">
  <h2>52. How do you implement a ScheduledExecutorService for periodic tasks?</h2>
  <p> Use <code>scheduleAtFixedRate()</code> or <code>scheduleWithFixedDelay()</code>: </p>
  <pre>
ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(2);
scheduler.scheduleAtFixedRate(() -&gt; System.out.println(&quot;Running...&quot;), 0, 1, TimeUnit.SECONDS);
            </pre>
  </p>
</div>
<div class="question">
  <h2>53. What are the key differences between newFixedThreadPool() and newCachedThreadPool()?</h2>
  <p> - <strong>FixedThreadPool</strong>: Has a fixed number of threads.<br />
    - <strong>CachedThreadPool</strong>: Creates new threads as needed and reuses idle threads. </p>
</div>
<div class="question">
  <h2>54. How can you create a custom RejectedExecutionHandler?</h2>
  <p>Implement the <code>RejectedExecutionHandler</code> interface and override <code>rejectedExecution()</code>.</p>
</div>
<div class="question">
  <h2>55. How do you gracefully shut down an ExecutorService?</h2>
  <p>Call <code>shutdown()</code> first, then <code>awaitTermination()</code> to wait for task completion.</p>
</div>
<div class="question">
  <h2>56. What is a ForkJoinPool, and how does it differ from a regular thread pool?</h2>
  <p>ForkJoinPool is optimized for divide-and-conquer tasks, splitting work into smaller subtasks.</p>
</div>
<div class="question">
  <h2>57. How does parallelStream() use thread pools internally?</h2>
  <p>It uses the common ForkJoinPool with a default parallelism level based on available CPU cores.</p>
</div>
<div class="question">
  <h2>58. Can a thread pool handle tasks with different priorities?</h2>
  <p>Yes, but you must implement a custom priority queue for task scheduling.</p>
</div>
<div class="question">
  <h2>59. What are the advantages of using a thread pool over manually creating threads?</h2>
  <p>Thread pools reduce overhead, improve performance, and provide better resource management.</p>
</div>
<div class="question">
  <h2>60. How do you track the progress of tasks in a thread pool?</h2>
  <p>Use <code>Future.isDone()</code>, completion callbacks, or monitoring tools like JMX.</p>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1>Set 7: Executor Framework &amp; Thread Pools</h1>
<div class="question">
  <h2>61. How do you create a single-threaded executor?</h2>
  <p> Use <code>Executors.newSingleThreadExecutor()</code>: </p>
  <pre>
ExecutorService executor = Executors.newSingleThreadExecutor();
executor.submit(() -&gt; System.out.println(&quot;Task executed!&quot;));
            </pre>
  </p>
</div>
<div class="question">
  <h2>62. What is the difference between invokeAll() and invokeAny() in ExecutorService?</h2>
  <p> - <code>invokeAll()</code>: Executes multiple tasks and waits for all to complete.<br />
    - <code>invokeAny()</code>: Executes multiple tasks but returns the result of the first completed task. </p>
</div>
<div class="question">
  <h2>63. What happens if a thread pool has more tasks than available threads?</h2>
  <p>Excess tasks wait in the queue until a thread becomes available, or a rejection policy is triggered.</p>
</div>
<div class="question">
  <h2>64. How does a WorkStealingPool work?</h2>
  <p> A WorkStealingPool uses the ForkJoin framework to distribute tasks dynamically among available threads. </p>
</div>
<div class="question">
  <h2>65. Can you modify the thread pool size dynamically?</h2>
  <p> Yes, with <code>ThreadPoolExecutor.setCorePoolSize()</code> and <code>setMaximumPoolSize()</code>. </p>
</div>
<div class="question">
  <h2>66. How do you implement a timeout for a task in an ExecutorService?</h2>
  <p> Use <code>Future.get(timeout, TimeUnit.SECONDS)</code>: </p>
  <pre>
Future&lt;String&gt; future = executor.submit(() -&gt; &quot;Result&quot;);
try {
    String result = future.get(2, TimeUnit.SECONDS);
} catch (TimeoutException e) {
    System.out.println(&quot;Task timed out!&quot;);
}
            </pre>
  </p>
</div>
<div class="question">
  <h2>67. How do you monitor a thread pool's performance?</h2>
  <p>Use <code>ThreadPoolExecutor.getActiveCount()</code>, <code>getCompletedTaskCount()</code>, and JMX tools.</p>
</div>
<div class="question">
  <h2>68. How do you execute tasks sequentially in an executor?</h2>
  <p>Use a single-threaded executor: <code>Executors.newSingleThreadExecutor()</code>.</p>
</div>
<div class="question">
  <h2>69. What is the impact of using an unbounded queue in a thread pool?</h2>
  <p>It may lead to excessive memory usage if too many tasks are queued.</p>
</div>
<div class="question">
  <h2>70. How do you use a CompletionService with a thread pool?</h2>
  <p> Use <code>ExecutorCompletionService</code> to retrieve completed tasks efficiently: </p>
  <pre>
ExecutorService executor = Executors.newFixedThreadPool(3);
CompletionService&lt;String&gt; service = new ExecutorCompletionService&lt;&gt;(executor);
service.submit(() -&gt; &quot;Task Completed&quot;);
Future&lt;String&gt; future = service.take();
System.out.println(future.get());
            </pre>
  </p>
</div>
<h1>Set 8: Executor Framework &amp; Thread Pools</h1>
<div class="question">
  <h2>71. What is the difference between shutdown() and shutdownNow() in ExecutorService?</h2>
  <p> - <code>shutdown()</code>: Gracefully shuts down after executing all submitted tasks.<br />
    - <code>shutdownNow()</code>: Attempts to stop all running tasks immediately and returns a list of pending tasks. </p>
</div>
<div class="question">
  <h2>72. How can you create a thread pool with a fixed number of threads?</h2>
  <p> Use <code>Executors.newFixedThreadPool(n)</code>: </p>
  <pre>
ExecutorService executor = Executors.newFixedThreadPool(5);
executor.submit(() -&gt; System.out.println(&quot;Task executed!&quot;));
            </pre>
  </p>
</div>
<div class="question">
  <h2>73. What happens when a thread pool is exhausted?</h2>
  <p>New tasks wait in the queue until a thread becomes available, or a rejection policy is triggered.</p>
</div>
<div class="question">
  <h2>74. How does a cached thread pool work?</h2>
  <p> <code>Executors.newCachedThreadPool()</code> creates new threads as needed and reuses idle ones. </p>
</div>
<div class="question">
  <h2>75. What is a ForkJoinPool, and how does it work?</h2>
  <p> A ForkJoinPool is designed for parallel recursive tasks, using the fork/join paradigm. </p>
  <pre>
ForkJoinPool pool = new ForkJoinPool();
pool.submit(() -&gt; System.out.println(&quot;Task in ForkJoinPool&quot;));
            </pre>
  </p>
</div>
<div class="question">
  <h2>76. How do you implement a custom thread factory in Java?</h2>
  <p> Implement <code>ThreadFactory</code>: </p>
  <pre>
class CustomThreadFactory implements ThreadFactory {
    public Thread newThread(Runnable r) {
        return new Thread(r, &quot;CustomThread&quot;);
    }
}
ExecutorService executor = Executors.newFixedThreadPool(2, new CustomThreadFactory());
            </pre>
  </p>
</div>
<div class="question">
  <h2>77. What is the purpose of a ScheduledThreadPoolExecutor?</h2>
  <p> It schedules tasks to execute after a delay or at a fixed rate. </p>
  <pre>
ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(2);
scheduler.schedule(() -&gt; System.out.println(&quot;Delayed Task&quot;), 3, TimeUnit.SECONDS);
            </pre>
  </p>
</div>
<div class="question">
  <h2>78. How do you configure a rejection policy in ThreadPoolExecutor?</h2>
  <p> By passing a <code>RejectedExecutionHandler</code> when creating the pool. </p>
  <pre>
ThreadPoolExecutor executor = new ThreadPoolExecutor(
    2, 4, 10, TimeUnit.SECONDS, 
    new LinkedBlockingQueue&lt;&gt;(2),
    new ThreadPoolExecutor.CallerRunsPolicy()
);
            </pre>
  </p>
</div>
<div class="question">
  <h2>79. How do you use a semaphore to control concurrent task execution?</h2>
  <p> Use <code>Semaphore.acquire()</code> and <code>release()</code> to limit the number of concurrent threads. </p>
  <pre>
Semaphore semaphore = new Semaphore(2);
executor.submit(() -&gt; {
    semaphore.acquire();
    System.out.println(&quot;Task running&quot;);
    semaphore.release();
});
            </pre>
  </p>
</div>
<div class="question">
  <h2>80. How do you prevent deadlocks in thread pools?</h2>
  <p> - Avoid circular dependencies between tasks.<br />
    - Use appropriate thread pool sizes.<br />
    - Monitor locks and shared resources. </p>
</div>
<h1>Set 9: Executor Framework &amp; Thread Pools</h1>
<div class="question">
  <h2>81. How do you submit a Callable task and get the result?</h2>
  <p> Use <code>Future</code>: </p>
  <pre>
ExecutorService executor = Executors.newFixedThreadPool(2);
Future&lt;Integer&gt; future = executor.submit(() -&gt; 10 + 20);
System.out.println(future.get()); // Output: 30
            </pre>
  </p>
</div>
<div class="question">
  <h2>82. What happens if a task throws an exception in a thread pool?</h2>
  <p> The thread does not terminate but moves to the next task. If using <code>Future</code>, the exception is wrapped inside <code>ExecutionException</code>. </p>
</div>
<div class="question">
  <h2>83. How do you retrieve results from multiple Callable tasks?</h2>
  <p> Use <code>invokeAll()</code>: </p>
  <pre>
List&lt;Callable&lt;Integer&gt;&gt; tasks = List.of(() -&gt; 10, () -&gt; 20, () -&gt; 30);
List&lt;Future&lt;Integer&gt;&gt; futures = executor.invokeAll(tasks);
for (Future&lt;Integer&gt; future : futures) {
    System.out.println(future.get());
}
            </pre>
  </p>
</div>
<div class="question">
  <h2>84. What is the difference between execute() and submit()?</h2>
  <p> - <code>execute()</code>: Does not return a result and throws exceptions directly.<br />
    - <code>submit()</code>: Returns a <code>Future</code> and wraps exceptions inside it. </p>
</div>
<div class="question">
  <h2>85. How do you gracefully shutdown an ExecutorService?</h2>
  <p> Use <code>shutdown()</code> and <code>awaitTermination()</code>: </p>
  <pre>
executor.shutdown();
executor.awaitTermination(5, TimeUnit.SECONDS);
            </pre>
  </p>
</div>
<div class="question">
  <h2>86. What is the difference between FixedThreadPool and WorkStealingPool?</h2>
  <p> - <code>FixedThreadPool</code>: Uses a fixed number of threads.<br />
    - <code>WorkStealingPool</code>: Dynamically adjusts threads and uses the Fork/Join framework. </p>
</div>
<div class="question">
  <h2>87. How do you limit the number of concurrent tasks in a thread pool?</h2>
  <p> Set the queue size when creating the ThreadPoolExecutor: </p>
  <pre>
ExecutorService executor = new ThreadPoolExecutor(2, 4, 10, TimeUnit.SECONDS, new ArrayBlockingQueue&lt;&gt;(10));
            </pre>
  </p>
</div>
<div class="question">
  <h2>88. How does a single-threaded executor work?</h2>
  <p> <code>Executors.newSingleThreadExecutor()</code> ensures only one thread runs at a time. </p>
</div>
<div class="question">
  <h2>89. How do you implement an asynchronous retry mechanism using ExecutorService?</h2>
  <p> Use a loop with retries inside a <code>Callable</code>: </p>
  <pre>
Callable&lt;String&gt; retryTask = () -&gt; {
    for (int i = 0; i &lt; 3; i++) {
        try {
            return someMethod();
        } catch (Exception e) {
            Thread.sleep(1000);
        }
    }
    return &quot;Failed&quot;;
};
Future&lt;String&gt; result = executor.submit(retryTask);
            </pre>
  </p>
</div>
<div class="question">
  <h2>90. How do you measure the execution time of a task in a thread pool?</h2>
  <p> Use <code>System.nanoTime()</code> before and after execution: </p>
  <pre>
long start = System.nanoTime();
executor.submit(() -&gt; someMethod()).get();
long end = System.nanoTime();
System.out.println(&quot;Execution Time: &quot; + (end - start) + &quot; nanoseconds&quot;);
            </pre>
  </p>
</div>
<p>&nbsp;</p>
<h1>Set 10: Executor Framework &amp; Thread Pools</h1>
<div class="question">
  <h2>91. What is a ScheduledThreadPoolExecutor?</h2>
  <p> It allows scheduling tasks to run at fixed intervals or with a delay. </p>
  <pre>
ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(2);
scheduler.schedule(() -&gt; System.out.println(&quot;Task executed&quot;), 5, TimeUnit.SECONDS);
            </pre>
  </p>
</div>
<div class="question">
  <h2>92. How do you schedule a task to run repeatedly with a fixed delay?</h2>
  <p> Use <code>scheduleWithFixedDelay</code>: </p>
  <pre>
scheduler.scheduleWithFixedDelay(() -&gt; System.out.println(&quot;Running...&quot;), 2, 3, TimeUnit.SECONDS);
            </pre>
  </p>
</div>
<div class="question">
  <h2>93. How do you schedule a task to run at fixed intervals?</h2>
  <p> Use <code>scheduleAtFixedRate</code>: </p>
  <pre>
scheduler.scheduleAtFixedRate(() -&gt; System.out.println(&quot;Running...&quot;), 1, 5, TimeUnit.SECONDS);
            </pre>
  </p>
</div>
<div class="question">
  <h2>94. How do you create a cached thread pool?</h2>
  <p> Use <code>Executors.newCachedThreadPool()</code>. It creates new threads as needed and reuses existing ones. </p>
</div>
<div class="question">
  <h2>95. How do you use a ForkJoinPool for parallel computation?</h2>
  <p>&nbsp; </p>
  <pre>
ForkJoinPool pool = new ForkJoinPool();
int result = pool.invoke(new RecursiveTask&lt;Integer&gt;() {
    protected Integer compute() { return 10 + 20; }
});
System.out.println(result);
            </pre>
  </p>
</div>
<div class="question">
  <h2>96. What is a ThreadFactory in Java?</h2>
  <p> A custom factory to create threads with specific settings. </p>
  <pre>
ThreadFactory factory = r -&gt; new Thread(r, &quot;CustomThread&quot;);
ExecutorService executor = Executors.newFixedThreadPool(2, factory);
            </pre>
  </p>
</div>
<div class="question">
  <h2>97. How do you handle exceptions globally in a ThreadPoolExecutor?</h2>
  <p> Override <code>afterExecute</code>: </p>
  <pre>
ThreadPoolExecutor executor = new ThreadPoolExecutor(2, 4, 10, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;&gt;()) {
    protected void afterExecute(Runnable r, Throwable t) {
        if (t != null) { System.out.println(&quot;Exception: &quot; + t.getMessage()); }
    }
};
            </pre>
  </p>
</div>
<div class="question">
  <h2>98. How do you log the execution time of all tasks in a thread pool?</h2>
  <p> Use a wrapper around <code>Runnable</code>: </p>
  <pre>
class TimedTask implements Runnable {
    private Runnable task;
    TimedTask(Runnable task) { this.task = task; }
    public void run() {
        long start = System.nanoTime();
        task.run();
        long end = System.nanoTime();
        System.out.println(&quot;Execution time: &quot; + (end - start) + &quot; ns&quot;);
    }
}
executor.submit(new TimedTask(() -&gt; System.out.println(&quot;Task running&quot;)));
            </pre>
  </p>
</div>
<div class="question">
  <h2>99. How do you stop a long-running task after a timeout?</h2>
  <p> Use <code>Future.get(timeout, TimeUnit)</code>: </p>
  <pre>
Future&lt;String&gt; future = executor.submit(() -&gt; {
    Thread.sleep(10000);
    return &quot;Completed&quot;;
});
try {
    System.out.println(future.get(5, TimeUnit.SECONDS));
} catch (TimeoutException e) {
    System.out.println(&quot;Task timed out&quot;);
}
            </pre>
  </p>
</div>
<div class="question">
  <h2>100. How do you detect if a thread pool is overloaded?</h2>
  <p> Check the queue size and active thread count: </p>
  <pre>
ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(4);
if (executor.getQueue().size() &gt; 10) {
    System.out.println(&quot;ThreadPool overloaded!&quot;);
}
            </pre>
  </p>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</body>
</html>
